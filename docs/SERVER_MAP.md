# –ö–∞—Ä—Ç–∞ –ø—Ä–æ–µ–∫—Ç–æ–≤ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ Timeweb (147.45.99.66)

## 1. –ü—Ä–æ–µ–∫—Ç: MiniApp (–¢–µ–∫—É—â–∏–π —Ä–∞–±–æ—á–∏–π –ø—Ä–æ–µ–∫—Ç)
*   **–ü—É—Ç—å –∫ –ø–∞–ø–∫–µ:** `/root/MiniApp/self-hosting/`
*   **–§–∞–π–ª –Ω–∞—Å—Ç—Ä–æ–µ–∫ (Docker):** `/root/MiniApp/self-hosting/docker-compose.yml`
*   **–§–∞–π–ª –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö (.env):** `/root/MiniApp/self-hosting/.env`
*   **–§–∞–π–ª —à–ª—é–∑–∞ (Kong):** `/root/MiniApp/self-hosting/volumes/api/kong.yml`
*   **–ü–æ—Ä—Ç—ã:**
    *   API (Kong): `8100` (–≤–Ω–µ—à–Ω–∏–π) -> `8000` (–≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π)
    *   Studio (–ü–∞–Ω–µ–ª—å): `3100` (–≤–Ω–µ—à–Ω–∏–π) -> `3000` (–≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π)
    *   –ë–∞–∑–∞ (Direct): `5434` (–≤–Ω–µ—à–Ω–∏–π) -> `5432` (–≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π)
    *   –ë–∞–∑–∞ (Pooler): `5433` (–≤–Ω–µ—à–Ω–∏–π) -> `5432` (–≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π)

## 2. –ü—Ä–æ–µ–∫—Ç: Supabase (–î—Ä—É–≥–æ–π –ø—Ä–æ–µ–∫—Ç)
*   **–ü—É—Ç—å –∫ –ø–∞–ø–∫–µ:** `/root/supabase/docker/`
*   **–§–∞–π–ª —à–ª—é–∑–∞ (Kong):** `/root/supabase/docker/volumes/api/kong.yml`
*   **–ü–æ—Ä—Ç—ã:**
    *   API (Kong): `8000`
    *   –ë–∞–∑–∞: `5432`

---

## 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ MCP –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è Cursor –∫ Self-hosted Supabase

### 3.1. –ü—Ä–∏–º–µ–Ω–µ–Ω–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ Kong (–®–ª—é–∑ API)

**–§–∞–π–ª:** `/root/MiniApp/self-hosting/volumes/api/kong.yml`

**–ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ —Å–µ–∫—Ü–∏–∏ MCP (—Å—Ç—Ä–æ–∫–∏ 244-268):**

1. **–û—Ç–∫–ª—é—á–µ–Ω–∞ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –¥–æ—Å—Ç—É–ø–∞:**
   - –ü–ª–∞–≥–∏–Ω `request-termination` –∑–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω (—Å—Ç—Ä–æ–∫–∏ 254-257)

2. **–í–∫–ª—é—á–µ–Ω—ã –ø–ª–∞–≥–∏–Ω—ã –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞:**
   - `cors` ‚Äî —Ä–∞–∑—Ä–µ—à–∞–µ—Ç –∫—Ä–æ—Å—Å-–¥–æ–º–µ–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã
   - `ip-restriction` ‚Äî –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ—Ç –¥–æ—Å—Ç—É–ø –ø–æ IP-–∞–¥—Ä–µ—Å–∞–º

3. **–ù–∞—Å—Ç—Ä–æ–µ–Ω—ã —Ä–∞–∑—Ä–µ—à–µ–Ω–Ω—ã–µ IP-–∞–¥—Ä–µ—Å–∞:**
   ```yaml
   allow:
     - 127.0.0.1          # –õ–æ–∫–∞–ª—å–Ω—ã–π —Ö–æ—Å—Ç (–¥–ª—è SSH-—Ç—É–Ω–Ω–µ–ª—è)
     - ::1                 # IPv6 –ª–æ–∫–∞–ª—å–Ω—ã–π —Ö–æ—Å—Ç
     - 172.16.0.0/12       # –í—Å—è –ø–æ–¥—Å–µ—Ç—å Docker (172.16.x.x - 172.31.x.x)
   deny: []                # –ü—É—Å—Ç–æ–π —Å–ø–∏—Å–æ–∫ –∑–∞–ø—Ä–µ—Ç–æ–≤ (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ!)
   ```

**–ö–æ–º–∞–Ω–¥–∞ –¥–ª—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π:**
```bash
docker compose -f /root/MiniApp/self-hosting/docker-compose.yml restart kong
```

### 3.2. SSH-—Ç—É–Ω–Ω–µ–ª—å –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞

**–í–∞–∂–Ω–æ:** MCP endpoint `/mcp` **–ù–ï –î–û–õ–ñ–ï–ù** –±—ã—Ç—å –æ—Ç–∫—Ä—ã—Ç –≤ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç –ø–æ —Å–æ–æ–±—Ä–∞–∂–µ–Ω–∏—è–º –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏. –î–æ—Å—Ç—É–ø –æ—Å—É—â–µ—Å—Ç–≤–ª—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ SSH-—Ç—É–Ω–Ω–µ–ª—å.

**–ö–æ–º–∞–Ω–¥–∞ –¥–ª—è –∑–∞–ø—É—Å–∫–∞ —Ç—É–Ω–Ω–µ–ª—è –Ω–∞ –ª–æ–∫–∞–ª—å–Ω–æ–º –∫–æ–º–ø—å—é—Ç–µ—Ä–µ:**
```bash
ssh -L 8081:localhost:8100 root@147.45.99.66
```

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç —ç—Ç–∞ –∫–æ–º–∞–Ω–¥–∞:**
- –°–æ–∑–¥–∞–µ—Ç "—Å–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–∞–Ω–∞–ª" –º–µ–∂–¥—É —Ç–≤–æ–∏–º –∫–æ–º–ø—å—é—Ç–µ—Ä–æ–º –∏ —Å–µ—Ä–≤–µ—Ä–æ–º
- –ü—Ä–æ–±—Ä–∞—Å—ã–≤–∞–µ—Ç –ø–æ—Ä—Ç `8081` –Ω–∞ —Ç–≤–æ–µ–º –∫–æ–º–ø—å—é—Ç–µ—Ä–µ –Ω–∞ –ø–æ—Ä—Ç `8100` (Kong API) –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
- –í—Å–µ –∑–∞–ø—Ä–æ—Å—ã –∫ `localhost:8081` –Ω–∞ —Ç–≤–æ–µ–º –∫–æ–º–ø—å—é—Ç–µ—Ä–µ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä

**–í–∞–∂–Ω–æ:** –ù–µ –∑–∞–∫—Ä—ã–≤–∞–π –æ–∫–Ω–æ —Ç–µ—Ä–º–∏–Ω–∞–ª–∞ —Å —Ç—É–Ω–Ω–µ–ª–µ–º –≤–æ –≤—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã —Å MCP!

### 3.3. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Cursor MCP

**–§–∞–π–ª:** `~/.cursor/mcp.json` (–∏–ª–∏ `.cursor/mcp.json` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞)

**–¢–µ–∫—É—â–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:**
```json
{
  "mcpServers": {
    "miniapp-db": {
      "url": "http://localhost:8081/mcp"
    }
  }
}
```

**–ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ:**
1. –ó–∞–ø—É—Å—Ç–∏ SSH-—Ç—É–Ω–Ω–µ–ª—å (—Å–º. –≤—ã—à–µ)
2. –ó–∞–π–¥–∏ –≤ **Cursor Settings** -> **General** -> **MCP**
3. –ù–∞–π–¥–∏ —Å–µ—Ä–≤–µ—Ä `miniapp-db`
4. –ù–∞–∂–º–∏ **Refresh**
5. –ö—Ä—É–∂–æ–∫ –¥–æ–ª–∂–µ–Ω —Å—Ç–∞—Ç—å **–∑–µ–ª–µ–Ω—ã–º** üü¢

---

## 4. –î–æ—Å—Ç—É–ø–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ —á–µ—Ä–µ–∑ MCP

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è —á–µ—Ä–µ–∑ MCP –¥–æ—Å—Ç—É–ø–Ω—ã —Å–ª–µ–¥—É—é—â–∏–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö:

### 4.1. –û—Å–Ω–æ–≤–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å –¥–∞–Ω–Ω—ã–º–∏

#### `execute_sql`
**–û–ø–∏—Å–∞–Ω–∏–µ:** –í—ã–ø–æ–ª–Ω—è–µ—Ç –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω—ã–π SQL-–∑–∞–ø—Ä–æ—Å –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö PostgreSQL.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `query` (string, –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π) ‚Äî SQL-–∑–∞–ø—Ä–æ—Å –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

**–ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:**
```json
{
  "query": "SELECT table_name FROM information_schema.tables WHERE table_schema = 'public';"
}
```

**–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:** 
- –ù–µ –∏—Å–ø–æ–ª—å–∑—É–π –¥–ª—è DDL-–æ–ø–µ—Ä–∞—Ü–∏–π (CREATE TABLE, ALTER TABLE –∏ —Ç.–¥.)
- –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –º–æ–≥—É—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å –Ω–µ–ø—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

#### `apply_migration`
**–û–ø–∏—Å–∞–Ω–∏–µ:** –ü—Ä–∏–º–µ–Ω—è–µ—Ç –º–∏–≥—Ä–∞—Ü–∏—é –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö. –ò—Å–ø–æ–ª—å–∑—É–π –¥–ª—è –æ–ø–µ—Ä–∞—Ü–∏–π –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã (DDL).

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `name` (string, –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π) ‚Äî –∏–º—è –º–∏–≥—Ä–∞—Ü–∏–∏ –≤ —Ñ–æ—Ä–º–∞—Ç–µ snake_case (–Ω–∞–ø—Ä–∏–º–µ—Ä, `create_users_table`)
- `query` (string, –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π) ‚Äî SQL-–∑–∞–ø—Ä–æ—Å –º–∏–≥—Ä–∞—Ü–∏–∏

**–ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:**
```json
{
  "name": "create_profiles_table",
  "query": "CREATE TABLE profiles (id TEXT PRIMARY KEY, full_name TEXT NOT NULL);"
}
```

### 4.2. –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã

#### `list_tables`
**–û–ø–∏—Å–∞–Ω–∏–µ:** –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —Ç–∞–±–ª–∏—Ü –≤ —É–∫–∞–∑–∞–Ω–Ω—ã—Ö —Å—Ö–µ–º–∞—Ö.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `schemas` (array, –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π) ‚Äî —Å–ø–∏—Å–æ–∫ —Å—Ö–µ–º –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞. –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é: `["public"]`

**–ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:**
```json
{
  "schemas": ["public", "auth"]
}
```

#### `list_extensions`
**–û–ø–∏—Å–∞–Ω–∏–µ:** –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–ø–∏—Å–æ–∫ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã—Ö —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–π PostgreSQL.

#### `list_migrations`
**–û–ø–∏—Å–∞–Ω–∏–µ:** –í—ã–≤–æ–¥–∏—Ç –∏—Å—Ç–æ—Ä–∏—é –ø—Ä–∏–º–µ–Ω–µ–Ω–Ω—ã—Ö –º–∏–≥—Ä–∞—Ü–∏–π.

### 4.3. –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

#### `generate_typescript_types`
**–û–ø–∏—Å–∞–Ω–∏–µ:** –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç TypeScript —Ç–∏–ø—ã –Ω–∞ –æ—Å–Ω–æ–≤–µ —Å—Ö–µ–º—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö.

#### `get_project_url`
**–û–ø–∏—Å–∞–Ω–∏–µ:** –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç URL –ø—Ä–æ–µ–∫—Ç–∞ Supabase.

#### `get_publishable_keys`
**–û–ø–∏—Å–∞–Ω–∏–µ:** –ü–æ–ª—É—á–∞–µ—Ç –ø—É–±–ª–∏—á–Ω—ã–µ –∫–ª—é—á–∏ API –¥–ª—è –ø—Ä–æ–µ–∫—Ç–∞.

#### `get_logs`
**–û–ø–∏—Å–∞–Ω–∏–µ:** –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ª–æ–≥–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö.

#### `get_advisors`
**–û–ø–∏—Å–∞–Ω–∏–µ:** –ü–æ–ª—É—á–∞–µ—Ç —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö.

#### `search_docs`
**–û–ø–∏—Å–∞–Ω–∏–µ:** –ü–æ–∏—Å–∫ –ø–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ Supabase.

---

## 5. –¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

‚úÖ **SSH-—Ç—É–Ω–Ω–µ–ª—å:** –ù–∞—Å—Ç—Ä–æ–µ–Ω –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç  
‚úÖ **Kong –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:** MCP endpoint –æ—Ç–∫—Ä—ã—Ç –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞  
‚úÖ **Cursor MCP:** –ü–æ–¥–∫–ª—é—á–µ–Ω –∫ `http://localhost:8081/mcp`  
‚úÖ **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö:** –î–æ—Å—Ç—É–ø–Ω–∞ –¥–ª—è —á—Ç–µ–Ω–∏—è –∏ –∑–∞–ø–∏—Å–∏ —á–µ—Ä–µ–∑ MCP  

**–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–≤—è–∑–∏:**
```bash
curl -I http://localhost:8081/mcp
# –û–∂–∏–¥–∞–µ–º—ã–π –æ—Ç–≤–µ—Ç: HTTP/1.1 405 Method Not Allowed (—ç—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ!)
```

---

## 6. –¢–µ—Å—Ç–æ–≤–æ–µ —á—Ç–µ–Ω–∏–µ –ø–æ–∑–∏—Ü–∏–π –∏–∑ Supabase (–±–µ–∑ –æ—Ç–∫–ª—é—á–µ–Ω–∏—è GAS)

–ß—Ç–æ–±—ã –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–æ–≤—É—é –±–∞–∑—É –±–µ–∑ –æ—Ç–∫–ª—é—á–µ–Ω–∏—è —Å—Ç–∞—Ä–æ–π –∏ –±–µ–∑ –ø–æ—Ç–µ—Ä–∏ –¥–∞–Ω–Ω—ã—Ö, –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –≤–∫–ª—é—á–µ–Ω–∞ —Å—Ö–µ–º–∞ **¬´–¥–≤–æ–π–Ω–æ–≥–æ –∏—Å—Ç–æ—á–Ω–∏–∫–∞¬ª** —Ç–æ–ª—å–∫–æ –¥–ª—è —Ç–∞–±–ª–∏—Ü—ã **–ø–æ–∑–∏—Ü–∏–π**:

- **–ß—Ç–µ–Ω–∏–µ –ø–æ–∑–∏—Ü–∏–π:** –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å–Ω–∞—á–∞–ª–∞ –ø—ã—Ç–∞–µ—Ç—Å—è –≤–∑—è—Ç—å —Å–ø–∏—Å–æ–∫ –ø–æ–∑–∏—Ü–∏–π –∏–∑ Supabase (—Ç–∞–±–ª–∏—Ü–∞ `positions`). –ï—Å–ª–∏ –∑–∞–ø—Ä–æ—Å —É—Å–ø–µ—à–µ–Ω –∏ —Å–ø–∏—Å–æ–∫ –Ω–µ –ø—É—Å—Ç–æ–π ‚Äî –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —ç—Ç–∏ –¥–∞–Ω–Ω—ã–µ.
- **–û—Ç–∫–∞—Ç:** –ø—Ä–∏ –ª—é–±–æ–π –æ—à–∏–±–∫–µ –∏–ª–∏ –ø—É—Å—Ç–æ–º –æ—Ç–≤–µ—Ç–µ Supabase –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –ø–æ–∑–∏—Ü–∏–∏ –∏–∑ GAS (–∫–∞–∫ —Ä–∞–Ω—å—à–µ).
- **–í—Å—ë –æ—Å—Ç–∞–ª—å–Ω–æ–µ:** –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏, –æ–±—ä–µ–∫—Ç—ã, —Ä–æ–ª–∏, –æ—Ç–ø—Ä–∞–≤–∫–∞ –æ—Ç—á—ë—Ç–æ–≤, –∞–¥–º–∏–Ω–∫–∞, —ç–∫–æ–Ω–æ–º–∏–∫–∞ ‚Äî –ø–æ-–ø—Ä–µ–∂–Ω–µ–º—É —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ GAS. –°—Ç–∞—Ä–∞—è –±–∞–∑–∞ –Ω–µ –º–µ–Ω—è–µ—Ç—Å—è.

### –ö–∞–∫ –≤–∫–ª—é—á–∏—Ç—å —Ç–µ—Å—Ç

1. **–ü–æ–ª—É—á–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∏–∑ `.env` –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ:**
   - –§–∞–π–ª: `/root/MiniApp/self-hosting/.env`
   - –ù—É–∂–Ω—ã –∑–Ω–∞—á–µ–Ω–∏—è:
     - `ANON_KEY` ‚Äî —ç—Ç–æ –∏ –µ—Å—Ç—å `SUPABASE_ANON_KEY` –¥–ª—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
     - `KONG_HTTP_PORT=8100` ‚Äî –ø–æ—Ä—Ç –¥–ª—è URL (–ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç, —á—Ç–æ URL –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π)

2. **–ó–∞–ø—É—Å—Ç–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏:**
   ```bash
   flutter run -d chrome \
     --dart-define=SUPABASE_URL=http://147.45.99.66:8100 \
     --dart-define=SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im1pbmlhcHAiLCJyb2xlIjoiYW5vbiIsImlhdCI6MTcwNjQ3NjAwMCwiZXhwIjoyMDIyMDkyMDAwfQ.unique_anon_part_miniapp
   ```
   
   **–í–∞–∂–Ω–æ:** –ó–∞–º–µ–Ω–∏ `SUPABASE_ANON_KEY` –Ω–∞ —Ä–µ–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –∏–∑ `.env` (–ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è `ANON_KEY`).

3. **–ë–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤:** –ï—Å–ª–∏ –Ω–µ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å `SUPABASE_URL` –∏ `SUPABASE_ANON_KEY`, –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ —Å GAS (–∫–∞–∫ —Ä–∞–Ω—å—à–µ).

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ —Ç–∞–±–ª–∏—Ü–µ `positions` –≤ Supabase

**–ö–æ–ª–æ–Ω–∫–∏:** `id`, `object_id`, `name`, `unit`, `system`, `sort_order`.  
**–¢–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö:**
- `id` ‚Äî TEXT (–∏–ª–∏ UUID)
- `object_id` ‚Äî TEXT (ID –æ–±—ä–µ–∫—Ç–∞ –∏–∑ —Ç–∞–±–ª–∏—Ü—ã `objects`)
- `name` ‚Äî TEXT (–Ω–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ –ø–æ–∑–∏—Ü–∏–∏)
- `unit` ‚Äî TEXT (–µ–¥–∏–Ω–∏—Ü–∞ –∏–∑–º–µ—Ä–µ–Ω–∏—è: —à—Ç, –º, –º¬≤ –∏ —Ç.–¥.)
- `system` ‚Äî TEXT (—Å–∏—Å—Ç–µ–º–∞, –∫ –∫–æ—Ç–æ—Ä–æ–π –æ—Ç–Ω–æ—Å–∏—Ç—Å—è –ø–æ–∑–∏—Ü–∏—è, –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—É—Å—Ç—ã–º)
- `sort_order` ‚Äî INTEGER (–ø–æ—Ä—è–¥–æ–∫ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏, –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

–î–∞–Ω–Ω—ã–µ –¥–ª—è —Ç–µ—Å—Ç–∞ –º–æ–∂–Ω–æ –∑–∞–ª–∏—Ç—å –≤—Ä—É—á–Ω—É—é —á–µ—Ä–µ–∑ Studio (`http://147.45.99.66:3100`) –∏–ª–∏ –º–∏–≥—Ä–∞—Ü–∏–µ–π; GAS –ø—Ä–∏ —ç—Ç–æ–º –Ω–µ —Ç—Ä–æ–≥–∞–µ—à—å.

### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ø—Ä–æ–µ–∫—Ç–∞ (–∏–∑ `.env`)

–î–ª—è —Å–ø—Ä–∞–≤–∫–∏, –æ—Å–Ω–æ–≤–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ø—Ä–æ–µ–∫—Ç–∞ MiniApp:
- **Kong API –ø–æ—Ä—Ç:** `8100` (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ `SUPABASE_URL`)
- **Studio –ø–æ—Ä—Ç:** `3100` (–≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ë–î)
- **Postgres –ø–æ—Ä—Ç (pooler):** `5433` (–¥–ª—è –ø—Ä—è–º–æ–≥–æ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –ë–î, –µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
- **Anon Key:** –±–µ—Ä—ë—Ç—Å—è –∏–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π `ANON_KEY` –≤ `.env`

---

## 7. –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

1. **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:**
   - MCP endpoint –¥–æ—Å—Ç—É–ø–µ–Ω –¢–û–õ–¨–ö–û —á–µ—Ä–µ–∑ SSH-—Ç—É–Ω–Ω–µ–ª—å
   - –ù–∏–∫–æ–≥–¥–∞ –Ω–µ –æ—Ç–∫—Ä—ã–≤–∞–π –ø–æ—Ä—Ç `8100` –≤ –±—Ä–∞–Ω–¥–º–∞—É—ç—Ä–µ Timeweb –¥–ª—è –≤–Ω–µ—à–Ω–µ–≥–æ –¥–æ—Å—Ç—É–ø–∞
   - –í—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–π SSH-—Ç—É–Ω–Ω–µ–ª—å –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å MCP

2. **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:**
   - SSH-—Ç—É–Ω–Ω–µ–ª—å —Å–æ–∑–¥–∞–µ—Ç –Ω–µ–±–æ–ª—å—à—É—é –∑–∞–¥–µ—Ä–∂–∫—É (~2-5 –º—Å)
   - –î–ª—è –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—Ä—è–º–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ PostgreSQL —á–µ—Ä–µ–∑ –ø–æ—Ä—Ç `5434`

3. **–†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ:**
   - –†–µ–≥—É–ª—è—Ä–Ω–æ –¥–µ–ª–∞–π –±—ç–∫–∞–ø—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –ø–µ—Ä–µ–¥ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ–º –º–∏–≥—Ä–∞—Ü–∏–π
   - –ò—Å–ø–æ–ª—å–∑—É–π `pg_dump` –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –¥–∞–º–ø–æ–≤

---

*–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ: 29 —è–Ω–≤–∞—Ä—è 2026*  
*–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ: –î–ª—è —Ä–∞–±–æ—Ç—ã MCP –º—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º –ø—Ä–æ–µ–∫—Ç **MiniApp**.*
